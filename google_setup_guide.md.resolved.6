# Google Cloud Setup for Sheets & Login

To enable Login and Google Sheets saving, you must configure your Google Cloud Project correctly.

### 1. Enable APIs
You must enable ALL three of these in the [Google API Library](https://console.cloud.google.com/apis/library):
1.  **Google Sheets API**: To save your data.
2.  **Google Drive API**: To find/create the "TV_Time_Data" file.
3.  **Gmail API**: For auto-approval features.

### 2. Configure OAuth Scopes
1. Go to: [**OAuth consent screen**](https://console.cloud.google.com/apis/auth/consent).
2. Look at the center of the page. Do you see a button that says **"CREATE"** or **"EDIT APP"**?
   - If it says **"CREATE"**, select **"External"** first.
3. Once you are in the "Edit" mode, you will see 4 numbers at the top: `1. OAuth consent screen`, `2. Scopes`, `3. Test users`, `4. Summary`.
4. Click **"SAVE AND CONTINUE"** at the very bottom of page 1.
5. Now you are on **Step 2 (Scopes)**. Look for this button:

![Add or Remove Scopes Guide](/C:/Users/hi coder/.gemini/antigravity/brain/cb0f6429-b178-4e8f-9b39-4dffcef35e2d/google_console_scopes_guide_1768031038620.png)

6. Click **"ADD OR REMOVE SCOPES"**.
7. Paste these in the "Manually add scopes" box at the bottom of the side window:
    -   `https://www.googleapis.com/auth/spreadsheets`
    -   `https://www.googleapis.com/auth/drive.file`
    -   `https://www.googleapis.com/auth/userinfo.profile`
    -   `https://www.googleapis.com/auth/gmail.readonly`
8. Click **Add to Table** -> **Update**.
9. Scroll down and click **SAVE AND CONTINUE**.

### 3. Add Test Users (CRITICAL)
1. You are now on **Step 3 (Test users)**.
2. Click **+ ADD USERS**.
3. Enter your own Gmail address (e.g., `yourname@gmail.com`).
4. Enter **`lakshveeronline@gmail.com`** as well.
5. Click **ADD**.
6. Scroll down and click **SAVE AND CONTINUE**.
7. On the **Summary** page, scroll to the bottom and click **BACK TO DASHBOARD**.

### 3. Authorized Origins (CRITICAL)
Google will **BLOCK** login if you open the file directly (e.g., `C:/Users/.../index.html`). You **must** use a local server.

In **APIs & Services > Credentials**:
1.  Click your **OAuth 2.0 Client ID**.
2.  Under **Authorized JavaScript origins**, add:
    -   `http://localhost:8000`
3.  Under **Authorized redirect URIs**, add:
    -   `http://localhost:8000`
4.  Click **Save**.

### 5. Running the App
1.  Open your terminal in the project folder.
2.  Run: `python -m http.server 8000`
3.  Open your browser to: **`http://localhost:8000`**
4.  The login button should now work!
